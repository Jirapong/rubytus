#!/usr/bin/env ruby

require 'bundler'
Bundler.require(:default, :development)

require 'rack/handler/puma'
require 'pry'

Rubytus::Server.configure do |config|
  config.data_dir  = '/tmp/rubytusd'
  config.base_path = '/uploads/'
end

base_app = lambda do |env|
  [200, {}, []]
end

app = Rack::Builder.new do
  use Rack::CommonLogger
  use Rubytus::Server
  run base_app
end

Rack::Handler::Puma.run(app, {
  :Port => ENV['TUSD_PORT'] || 1080
})

